# Project Structure

This document explains the organized structure of the Multi-File Conversion service.

## Root Directory
```
Multi-File-Conversion/
├── README.md                 # Main project documentation
├── LICENSE                   # MIT license
├── package.json              # Dependencies and scripts
├── package-lock.json         # Locked dependency versions
├── .gitignore               # Git ignore patterns
├── .replit                  # Replit configuration
│
├── client/                  # Frontend React application
│   ├── index.html          # Main HTML template
│   └── src/                # React source code
│       ├── App.tsx         # Main app component
│       ├── main.tsx        # React entry point
│       ├── index.css       # Global styles
│       ├── components/     # React components
│       ├── hooks/          # Custom React hooks
│       ├── lib/           # Utilities and helpers
│       └── pages/         # Page components
│
├── server/                  # Backend Express server
│   ├── index.ts            # Main server file
│   ├── routes.ts           # API route definitions
│   ├── storage.ts          # File storage management
│   ├── vite.ts            # Vite development setup
│   └── services/          # Business logic services
│       ├── cleanup.ts      # File cleanup service
│       └── file-converter.ts # File conversion logic
│
├── shared/                  # Shared TypeScript definitions
│   └── schema.ts           # Zod schemas for validation
│
├── config/                  # Configuration files (symlinked to root)
│   ├── components.json     # UI component configuration
│   ├── drizzle.config.ts   # Database configuration
│   ├── postcss.config.js   # PostCSS configuration
│   ├── render.yaml         # Render deployment config
│   ├── tailwind.config.ts  # Tailwind CSS configuration
│   ├── tsconfig.json       # TypeScript configuration
│   └── vite.config.ts      # Vite build configuration
│
├── docker/                  # Docker deployment files
│   ├── Dockerfile          # Main Docker image definition
│   ├── compose.yaml        # Docker Compose for production
│   ├── compose.debug.yaml  # Docker Compose for debugging
│   └── .dockerignore       # Docker ignore patterns
│
├── scripts/                 # Shell scripts and utilities
│   ├── check-deps.sh       # Dependency verification script
│   ├── install-gm.sh       # GraphicsMagick installation
│   ├── setup.sh           # Project setup script
│   └── startup.sh         # Container startup script
│
├── docs/                   # Project documentation
│   ├── README.md          # Complete documentation
│   ├── api-reference.md   # REST API documentation
│   ├── conversion_supported.md # Supported file formats
│   ├── deployment-guide.md # Deployment instructions
│   └── troubleshooting.md # Common issues and solutions
│
├── dist/                   # Built application (generated)
│   ├── index.js           # Compiled server code
│   └── public/           # Built frontend assets
│
├── uploads/               # Temporary file storage (runtime)
│   └── [session-dirs]/   # Session-based upload directories
│
└── [symlinks]            # Configuration symlinks for tool compatibility
    ├── vite.config.ts → config/vite.config.ts
    ├── tsconfig.json → config/tsconfig.json
    ├── tailwind.config.ts → config/tailwind.config.ts
    └── postcss.config.js → config/postcss.config.js
```

## Directory Purpose

### `/client/` - Frontend Application
- **React 18** with TypeScript and Tailwind CSS
- **Components**: Reusable UI components (file upload, conversion panels, etc.)
- **Hooks**: Custom React hooks for state management
- **Lib**: Utilities, API client, and helper functions
- **Pages**: Route-based page components

### `/server/` - Backend API
- **Express server** with TypeScript
- **Routes**: RESTful API endpoints for file operations
- **Services**: Business logic for file conversion and cleanup
- **Storage**: Session-based file management

### `/shared/` - Common Code
- **Zod schemas** for request/response validation
- **TypeScript types** shared between client and server

### `/config/` - Configuration Management
- **Build tools**: Vite, TypeScript, Tailwind configurations
- **Deployment**: Render, Docker configurations
- **Symlinks**: Created in root for tool compatibility

### `/docker/` - Containerization
- **Multi-stage Dockerfile** with all dependencies
- **Docker Compose** for development and production
- **Ignore patterns** for optimized builds

### `/scripts/` - Automation
- **Installation**: GraphicsMagick and dependency setup
- **Verification**: Health check and dependency validation
- **Startup**: Container initialization and service startup

### `/docs/` - Documentation
- **User guides**: Complete usage and deployment instructions
- **API docs**: Comprehensive REST API reference
- **Troubleshooting**: Common issues and debugging

## Build Process

1. **Development**: `npm run dev`
   - Vite dev server for frontend (port 5173)
   - Express server for API (port 5000)
   - Hot reload and development tools

2. **Production Build**: `npm run build`
   - Frontend built to `dist/public/`
   - Server compiled to `dist/index.js`
   - Optimized assets and code splitting

3. **Docker Build**: `npm run docker:build`
   - Multi-stage build with dependencies
   - GraphicsMagick installation
   - Production-ready container

## Key Features

- **Auto-installation**: GraphicsMagick and tools installed automatically
- **Session isolation**: Each user gets separate upload directory
- **File cleanup**: Automatic cleanup of temporary files
- **Health checks**: Service status and dependency verification
- **Hot reload**: Development server with instant updates
- **Production ready**: Optimized builds and container deployment

## Configuration Notes

- Configuration files are in `/config/` but symlinked to root
- This allows tools to find them while keeping organization
- Docker context includes all files for proper builds
- Scripts are executable and handle error cases
- Documentation is comprehensive and user-focused